{% extends "layout_signup.html" %}

{% block content %}

    <div class="pt-5 pb-3 text-center">
        <img class="d-block mx-auto mb-4" src="{{ url_for('static', filename = 'images/logo-2xplus.png') }}" alt="logo"
             height="72">
        <h2>マイページ アカウント申請フォーム</h2>
        <hr class="mb-4">
        <p class="lead">次のフォームに必要事項をご記入ください．</p>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <form action="/signup-confirm" method="POST" class="needs-validation" novalidate oninput='validateForm()'>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="lastName">姓</label>
                        <input type="text" class="form-control" id="lastName" name="lastName" placeholder="山田" value="" required>
                        <div class="invalid-feedback">
                            <!-- Valid first name is required. -->
                            姓を入力してください．
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="firstName">名</label>
                        <input type="text" class="form-control" id="firstName" name="firstName" placeholder="太郎" value="" required>
                        <div class="invalid-feedback">
                            <!-- Valid last name is required. -->
                            名を入力してください．
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="lastNameKana">姓（カタカナ）</label>
                        <input type="text" class="form-control" id="lastNameKana" name="lastNameKana" placeholder="ヤマダ" value="" required>
                        <div class="invalid-feedback">
                            <!-- Valid first name is required. -->
                            セイを入力してください．
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="firstNameKana">名（カタカナ）</label>
                        <input type="text" class="form-control" id="firstNameKana" name="firstNameKana" placeholder="タロウ" value="" required>
                        <div class="invalid-feedback">
                            <!-- Valid last name is required. -->
                            メイを入力してください．
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="lastNameRoman">姓（ローマ字）</label>
                        <input type="text" class="form-control" id="lastNameRoman" name="lastNameRoman" placeholder="Yamada" value="" required>
                        <div class="invalid-feedback">
                            <!-- Valid first name is required. -->
                            セイを入力してください．
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="firstNameRoman">名（ローマ字）</label>
                        <input type="text" class="form-control" id="firstNameRoman" name="firstNameRoman" placeholder="Taro" value="" required>
                        <div class="invalid-feedback">
                            <!-- Valid last name is required. -->
                            メイを入力してください．
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="email1">メールアドレス<span class="text-muted"></span></label>
                        <input type="email" class="form-control" id="email1" name="email1" placeholder="you@example.com" value="" required>
                        <div class="invalid-feedback">
                            <!-- Please enter a valid email address for shipping updates. -->
                            有効なメールアドレスを入力してください．
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="email2">メールアドレス（確認用）<span class="text-muted"></span></label>
                        <input type="email" class="form-control" id="email2" name="email2" placeholder="you@example.com" value="">
                        <div class="invalid-feedback">
                            メールアドレスが一致していません．
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="password1">パスワード<span class="text-muted"></span></label>
                        <input data-toggle="password" type="password" class="form-control" id="password1" name="password1" required value="">
                        <div class="invalid-feedback">
                            <!-- Please enter a valid email address for shipping updates. -->
                            パスワードを入力してください．
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="password2">パスワード（確認用）<span class="text-muted"></span></label>
                        <input data-toggle="password" type="password" class="form-control" id="password2" name="password2" value="">
                        <div class="invalid-feedback">
                            パスワードが一致していません．
                        </div>
                    </div>
                </div>

                <hr class="mb-4">

                <h4 class="mb-3">所属</h4>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="organization">組織名（学校名・会社名）</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="organization" name="organization" placeholder="JAEIS高等学校" value="" required>
                            <div class="invalid-feedback" style="width: 100%;">
                                所属を入力してください．
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="department">部署名</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="department" name="department" placeholder="" value="">
                            <div class="invalid-feedback" style="width: 100%;">
                                所属を入力してください．
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="mb-4">

                <h4 class="mb-3">連絡先</h4>

                <div class="row">
                    <div class="col-md-4 mb-3 align-self-center">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="address_type1" name="address_type" class="custom-control-input" value="0" checked required>
                            <label class="custom-control-label" for="address_type1">自宅</label>
                        </div>
                        <div class="custom-control custom-radio">
                            <input type="radio" id="address_type2" name="address_type" class="custom-control-input" value="1" required>
                            <label class="custom-control-label" for="address_type2">勤務先</label>
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <!-- <label for="zip">Zip</label> -->
                        <label for="zip01">郵便番号<span class="text-muted small">（ハイフンなし）</span></label>
                        <input type="text" class="form-control" id="zip01" name="zip01" placeholder="1234567" maxlength="7" onKeyUp="AjaxZip3.zip2addr(this,'','pref01','addr01');" required>
                        <div class="invalid-feedback">
                            <!-- Zip code required. -->
                            郵便番号を入力してください．
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="state">都道府県</label>
                        <select class="custom-select d-block w-100" id="pref01" name="pref01" required>
                            <option value="" selected>選択してください</option>
                            <option value="1">北海道</option>
                            <option value="2">青森県</option>
                            <option value="3">岩手県</option>
                            <option value="4">宮城県</option>
                            <option value="5">秋田県</option>
                            <option value="6">山形県</option>
                            <option value="7">福島県</option>
                            <option value="8">茨城県</option>
                            <option value="9">栃木県</option>
                            <option value="10">群馬県</option>
                            <option value="11">埼玉県</option>
                            <option value="12">千葉県</option>
                            <option value="13">東京都</option>
                            <option value="14">神奈川県</option>
                            <option value="15">新潟県</option>
                            <option value="16">富山県</option>
                            <option value="17">石川県</option>
                            <option value="18">福井県</option>
                            <option value="19">山梨県</option>
                            <option value="20">長野県</option>
                            <option value="21">岐阜県</option>
                            <option value="22">静岡県</option>
                            <option value="23">愛知県</option>
                            <option value="24">三重県</option>
                            <option value="25">滋賀県</option>
                            <option value="26">京都府</option>
                            <option value="27">大阪府</option>
                            <option value="28">兵庫県</option>
                            <option value="29">奈良県</option>
                            <option value="30">和歌山県</option>
                            <option value="31">鳥取県</option>
                            <option value="32">島根県</option>
                            <option value="33">岡山県</option>
                            <option value="34">広島県</option>
                            <option value="35">山口県</option>
                            <option value="36">徳島県</option>
                            <option value="37">香川県</option>
                            <option value="38">愛媛県</option>
                            <option value="39">高知県</option>
                            <option value="40">福岡県</option>
                            <option value="41">佐賀県</option>
                            <option value="42">長崎県</option>
                            <option value="43">熊本県</option>
                            <option value="44">大分県</option>
                            <option value="45">宮崎県</option>
                            <option value="46">鹿児島県</option>
                            <option value="47">沖縄県</option>
                        </select>
                        <div class="invalid-feedback">
                            <!-- Please provide a valid state. -->
                            有効な都道府県を選択してください．
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <!-- <label for="address">Address</label> -->
                    <label for="address">市町村区</label>
                    <!-- <input type="text" class="form-control" id="address" placeholder="1234 Main St" required> -->
                    <input type="text" class="form-control" id="addr01" name="addr01" placeholder="東京都千代田区千代田" required value="">
                    <div class="invalid-feedback">
                        <!-- Please enter your shipping address. -->
                        住所を入力してください．
                    </div>
                </div>

                <div class="mb-3">
                    <!-- <label for="address">Address</label> -->
                    <label for="address2">番地</label>
                    <!-- <input type="text" class="form-control" id="address" placeholder="1234 Main St" required> -->
                    <input type="text" class="form-control" id="addr02" name="addr02" placeholder="1-1" required value="">
                    <div class="invalid-feedback">
                        <!-- Please enter your shipping address. -->
                        住所を入力してください．
                    </div>
                </div>

                <div class="mb-3">
                    <!-- <label for="address2">Address 2 <span class="text-muted">(Optional)</span></label> -->
                    <label for="address3">ビル，アパート，マンション名<span class="text-muted">（オプション）</span></label>
                    <!-- <input type="text" class="form-control" id="address2" placeholder="Apartment or suite"> -->
                    <input type="text" class="form-control" id="addr03" name="addr03" placeholder="〇〇ビル ×××室" value="">
                </div>

                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="phone">電話番号</label>
                        <input type="text" class="form-control" id="phone" name="phone" placeholder="123-456-7890" required value="">
                        <div class="invalid-feedback">
                            電話番号を入力してください．
                        </div>
                    </div>
                </div>

                <hr class="mb-4">

                <h4 class="mb-3">会員種別</h4>

                <div class="row">
                    <div class="col-md-12 mb-3 align-self-center">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="member1" class="custom-control-input" name="member" value="1" checked required>
                            <label class="custom-control-label" for="member1">正会員</label>
                        </div>
                        <div class="custom-control custom-radio">
                            <input type="radio" id="member2" class="custom-control-input" name="member" value="2" required>
                            <label class="custom-control-label" for="member2">正会員（初等中等教育機関の教員）</label>
                        </div>
                        <div class="custom-control custom-radio">
                            <input type="radio" id="member3" class="custom-control-input" name="member" value="3" required>
                            <label class="custom-control-label" for="member3">学生会員</label>
                        </div>
                        <div class="custom-control custom-radio">
                            <input type="radio" id="member4" class="custom-control-input" name="member" value="4" required>
                            <label class="custom-control-label" for="member4">協賛会員</label>
                        </div>
                        <div class="custom-control custom-radio">
                            <input type="radio" id="member0" class="custom-control-input" name="member" value="0" required>
                            <label class="custom-control-label" for="member0">非会員</label>
                        </div>
                    </div>
                </div>

                <hr class="mb-4">

                <!-- <button class="btn btn-primary btn-lg btn-block" type="submit">Continue to checkout</button> -->
                <button class="btn btn-primary btn-lg btn-block" type="submit">入力情報を確認する</button>
            </form>
        </div>
    </div>

{% endblock %}

{% block js %}
    {#住所検索用スクリプト#}
    <script src="https://ajaxzip3.github.io/ajaxzip3.js" charset="UTF-8"></script>
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();


        function validateForm() {
            email2.setCustomValidity(email2.value != email1.value || email2.value == "" ? "メールアドレスが一致していません．" : "");
            password2.setCustomValidity(password2.value != password1.value || password2.value == "" ? "パスワードが一致していません．" : "")
        }
    </script>
{% endblock %}